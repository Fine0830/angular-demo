(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"BJ+2":function(t,e,n){"use strict";n.r(e),n.d(e,"FormModule",function(){return Le});var i,o=n("ofXK"),r=n("tyNb"),s=n("P12M"),a=n("Ji7U"),c=n("LK+K"),u=n("vuIU"),l=n("1OyB"),f=n("fXoL"),h=n("oiZh"),d=n("Mr5W"),m=n("xkGU"),b=n.n(m),p=n("0XPj"),v=n.n(p),g=n("LvDl"),y=n.n(g),w=n("uFwe"),k=function(){function t(e,n){Object(l.a)(this,t),this.open=e,this.close=n||e}return Object(u.a)(t,[{key:"isManual",value:function(){return"manual"===this.open||"manual"===this.close}}]),t}(),O={hover:["mouseover","mouseout"],focus:["focusin","focusout"]},_="undefined"!=typeof window&&window||{};function S(){return void 0===_||(void 0===_.__theme?i?"bs3"===i:"bs3"===(i=function(){if("undefined"==typeof document)return null;var t=document.createElement("span");t.innerText="test bs version",document.body.appendChild(t),t.classList.add("d-none");var e=t.getBoundingClientRect();return document.body.removeChild(t),e&&0===e.top?"bs4":"bs3"}()):"bs4"!==_.__theme)}var E=function(){function t(){Object(l.a)(this,t)}return Object(u.a)(t,null,[{key:"reflow",value:function(t){}},{key:"getStyles",value:function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=_),e.getComputedStyle(t)}}]),t}();"undefined"==typeof console||console;var C=n("rePB"),N=n("XNiG"),R=n("VRyK"),j=n("KQm4"),L=n("HDdC"),x=n("DH7j"),I=n("n6bG"),M=n("lJxs");function A(t,e,n,i){return Object(I.a)(n)&&(i=n,n=void 0),i?A(t,e,n).pipe(Object(M.a)(function(t){return Object(x.a)(t)?i.apply(void 0,Object(j.a)(t)):i(t)})):new L.a(function(i){D(t,e,function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},i,n)})}function D(t,e,n,i,o){var r;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){var s=t;t.addEventListener(e,n,o),r=function(){return s.removeEventListener(e,n,o)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){var a=t;t.on(e,n),r=function(){return a.off(e,n)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){var c=t;t.addListener(e,n),r=function(){return c.removeListener(e,n)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var u=0,l=t.length;u<l;u++)D(t[u],e,n,i,o)}i.add(r)}var T=n("LRne"),F=n("ReuC"),V=n("foSv"),K=function(t){Object(a.a)(n,t);var e=Object(c.a)(n);function n(t,i){var o;return Object(l.a)(this,n),(o=e.call(this,t,i)).scheduler=t,o.work=i,o}return Object(u.a)(n,[{key:"requestAsyncId",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0?Object(F.a)(Object(V.a)(n.prototype),"requestAsyncId",this).call(this,t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(function(){return t.flush(null)})))}},{key:"recycleAsyncId",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==i&&i>0||null===i&&this.delay>0)return Object(F.a)(Object(V.a)(n.prototype),"recycleAsyncId",this).call(this,t,e,i);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}]),n}(n("3N8a").a),P=new(function(t){Object(a.a)(n,t);var e=Object(c.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,i=-1,o=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++i<o&&(t=n.shift()));if(this.active=!1,e){for(;++i<o&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(n("IjjT").a))(K);function B(t,e){if(1!==t.nodeType)return[];var n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function H(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function U(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=B(t),n=e.overflowX,i=e.overflowY;return/(auto|scroll|overlay)/.test(String(e.overflow)+String(i)+String(n))?t:U(H(t))}var X="undefined"!=typeof window&&"undefined"!=typeof document,W=X&&!(!window.MSInputMethodContext||!document.documentMode),G=X&&!(!window.MSInputMethodContext||!/MSIE 10/.test(navigator.userAgent));function Q(t){return 11===t?W:10===t?G:W||G}function q(t){if(!t)return document.documentElement;for(var e,n=Q(10)?document.body:null,i=t.offsetParent||null;i===n&&t.nextElementSibling&&e!==t.nextElementSibling;)i=(e=t.nextElementSibling).offsetParent;var o=i&&i.nodeName;return o&&"BODY"!==o&&"HTML"!==o?-1!==["TH","TD","TABLE"].indexOf(i.nodeName)&&"static"===B(i,"position")?q(i):i:e?e.ownerDocument.documentElement:document.documentElement}function z(t){return null!==t.parentNode?z(t.parentNode):t}function Y(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?t:e,o=n?e:t,r=document.createRange();r.setStart(i,0),r.setEnd(o,0);var s,a,c=r.commonAncestorContainer;if(t!==c&&e!==c||i.contains(o))return"BODY"===(a=(s=c).nodeName)||"HTML"!==a&&q(s.firstElementChild)!==s?q(c):c;var u=z(t);return u.host?Y(u.host,e):Y(t,z(e).host)}function $(t,e){var n="x"===e?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(t["border".concat(n,"Width")])+parseFloat(t["border".concat(i,"Width")])}function J(t,e,n,i){return Math.max(e["offset".concat(t)],e["scroll".concat(t)],n["client".concat(t)],n["offset".concat(t)],n["scroll".concat(t)],Q(10)?parseInt(n["offset".concat(t)],10)+parseInt(i["margin".concat("Height"===t?"Top":"Left")],10)+parseInt(i["margin".concat("Height"===t?"Bottom":"Right")],10):0)}function Z(t){var e=t.body,n=t.documentElement,i=Q(10)&&getComputedStyle(n);return{height:J("Height",e,n,i),width:J("Width",e,n,i)}}function tt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===e?"scrollTop":"scrollLeft",i=t.nodeName;if("BODY"===i||"HTML"===i){var o=t.ownerDocument.documentElement,r=t.ownerDocument.scrollingElement||o;return r[n]}return t[n]}function et(t){return Object.assign(Object.assign({},t),{right:t.left+t.width,bottom:t.top+t.height})}function nt(t){var e={};try{if(Q(10)){e=t.getBoundingClientRect();var n=tt(t,"top"),i=tt(t,"left");e.top+=n,e.left+=i,e.bottom+=n,e.right+=i}else e=t.getBoundingClientRect()}catch(u){return}var o={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},r="HTML"===t.nodeName?Z(t.ownerDocument):{},s=t.offsetWidth-(r.width||t.clientWidth||o.right-o.left),a=t.offsetHeight-(r.height||t.clientHeight||o.bottom-o.top);if(s||a){var c=B(t);s-=$(c,"x"),a-=$(c,"y"),o.width-=s,o.height-=a}return et(o)}function it(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=tt(e,"top"),o=tt(e,"left"),r=n?-1:1;return t.top+=i*r,t.bottom+=i*r,t.left+=o*r,t.right+=o*r,t}function ot(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=Q(10),o="HTML"===e.nodeName,r=nt(t),s=nt(e),a=U(t),c=B(e),u=parseFloat(c.borderTopWidth),l=parseFloat(c.borderLeftWidth);n&&o&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var f=et({top:r.top-s.top-u,left:r.left-s.left-l,width:r.width,height:r.height});if(f.marginTop=0,f.marginLeft=0,!i&&o){var h=parseFloat(c.marginTop),d=parseFloat(c.marginLeft);f.top-=u-h,f.bottom-=u-h,f.left-=l-d,f.right-=l-d,f.marginTop=h,f.marginLeft=d}return(i&&!n?e.contains(a):e===a&&"BODY"!==a.nodeName)&&(f=it(f,e)),f}function rt(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,i=ot(t,n),o=Math.max(n.clientWidth,window.innerWidth||0),r=Math.max(n.clientHeight,window.innerHeight||0),s=e?0:tt(n),a=e?0:tt(n,"left"),c={top:s-Number(i.top)+Number(i.marginTop),left:a-Number(i.left)+Number(i.marginLeft),width:o,height:r};return et(c)}function st(t){var e=t.nodeName;return"BODY"!==e&&"HTML"!==e&&("fixed"===B(t,"position")||st(H(t)))}function at(t){if(!t||!t.parentElement||Q())return document.documentElement;for(var e=t.parentElement;e&&"none"===B(e,"transform");)e=e.parentElement;return e||document.documentElement}function ct(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r={top:0,left:0},s=o?at(t):Y(t,e);if("viewport"===i)r=rt(s,o);else{var a;"scrollParent"===i?"BODY"===(a=U(H(e))).nodeName&&(a=t.ownerDocument.documentElement):a="window"===i?t.ownerDocument.documentElement:i;var c=ot(a,s,o);if("HTML"!==a.nodeName||st(s))r=c;else{var u=Z(t.ownerDocument),l=u.height,f=u.width;r.top+=c.top-c.marginTop,r.bottom=Number(l)+Number(c.top),r.left+=c.left-c.marginLeft,r.right=Number(f)+Number(c.left)}}return r.left+=n,r.top+=n,r.right-=n,r.bottom-=n,r}function ut(t){return t.width*t.height}function lt(t,e,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:["top","bottom","right","left"],r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"viewport",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;if(-1===t.indexOf("auto"))return t;var a=ct(n,i,s,r),c={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},u=Object.keys(c).map(function(t){return Object.assign(Object.assign({key:t},c[t]),{area:ut(c[t])})}).sort(function(t,e){return e.area-t.area}),l=u.filter(function(t){return t.width>=n.clientWidth&&t.height>=n.clientHeight}),f=(l=l.filter(function(t){return o.some(function(e){return e===t.key})})).length>0?l[0].key:u[0].key,h=t.split(" ")[1];return n.className=n.className.replace(/bs-tooltip-auto/g,"bs-tooltip-".concat(f)),f+(h?"-".concat(h):"")}function ft(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),i=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:Number(t.offsetWidth)+i,height:Number(t.offsetHeight)+n}}function ht(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=n?at(t):Y(t,e);return ot(e,i,n)}function dt(t,e,n){var i=n.split(" ")[0],o=ft(t),r={width:o.width,height:o.height},s=-1!==["right","left"].indexOf(i),a=s?"top":"left",c=s?"left":"top",u=s?"height":"width",l=s?"width":"height";return r[a]=e[a]+e[u]/2-o[u]/2,r[c]=i===c?e[c]-o[l]:e[function(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}(c)],r}function mt(t,e){return t&&t.modifiers&&t.modifiers[e]&&t.modifiers[e].enabled}function bt(t,e,n){Object.keys(e).forEach(function(i){var o,r="";-1!==["width","height","top","right","bottom","left"].indexOf(i)&&""!==(o=e[i])&&!isNaN(parseFloat(o))&&isFinite(o)&&(r="px"),n?n.setStyle(t,i,"".concat(String(e[i])).concat(r)):t.style[i]=String(e[i])+r})}function pt(t){var e,n=t.offsets.target,i=t.instance.target.querySelector(".arrow");if(!i)return t;var o=-1!==["left","right"].indexOf(t.placement.split(" ")[0]),r=o?"height":"width",s=o?"Top":"Left",a=s.toLowerCase(),c=o?"left":"top",u=o?"bottom":"right",l=ft(i)[r],f=t.placement.split(" ")[1];t.offsets.host[u]-l<n[a]&&(n[a]-=n[a]-(t.offsets.host[u]-l)),Number(t.offsets.host[a])+Number(l)>n[u]&&(n[a]+=Number(t.offsets.host[a])+Number(l)-Number(n[u])),n=et(n);var h,d=B(t.instance.target),m=parseFloat(d["margin".concat(s)]),b=parseFloat(d["border".concat(s,"Width")]);if(f){var p=parseFloat(d.borderRadius),v=Number(m+b+p);h=a===f?Number(t.offsets.host[a])+v:Number(t.offsets.host[a])+Number(t.offsets.host[r]-v)}else h=Number(t.offsets.host[a])+Number(t.offsets.host[r]/2-l/2);var g=h-n[a]-m-b;return g=Math.max(Math.min(n[r]-l,g),0),t.offsets.arrow=(e={},Object(C.a)(e,a,Math.round(g)),Object(C.a)(e,c,""),e),t.instance.arrow=i,t}function vt(t){if(t.offsets.target=et(t.offsets.target),!mt(t.options,"flip"))return t.offsets.target=Object.assign(Object.assign({},t.offsets.target),dt(t.instance.target,t.offsets.host,t.placement)),t;var e=ct(t.instance.target,t.instance.host,0,"viewport",!1),n=t.placement.split(" ")[0],i=t.placement.split(" ")[1]||"",o=lt("auto",t.offsets.host,t.instance.target,t.instance.host,t.options.allowedPositions),r=[n,o];return r.forEach(function(o,s){if(n!==o||r.length===s+1)return t;var a="left"===(n=t.placement.split(" ")[0])&&Math.floor(t.offsets.target.right)>Math.floor(t.offsets.host.left)||"right"===n&&Math.floor(t.offsets.target.left)<Math.floor(t.offsets.host.right)||"top"===n&&Math.floor(t.offsets.target.bottom)>Math.floor(t.offsets.host.top)||"bottom"===n&&Math.floor(t.offsets.target.top)<Math.floor(t.offsets.host.bottom),c=Math.floor(t.offsets.target.left)<Math.floor(e.left),u=Math.floor(t.offsets.target.right)>Math.floor(e.right),l=Math.floor(t.offsets.target.top)<Math.floor(e.top),f=Math.floor(t.offsets.target.bottom)>Math.floor(e.bottom),h="left"===n&&c||"right"===n&&u||"top"===n&&l||"bottom"===n&&f,d=-1!==["top","bottom"].indexOf(n),m=d&&"left"===i&&c||d&&"right"===i&&u||!d&&"left"===i&&l||!d&&"right"===i&&f;(a||h||m)&&((a||h)&&(n=r[s+1]),m&&(i=function(t){return"right"===t?"left":"left"===t?"right":t}(i)),t.placement=n+(i?" ".concat(i):""),t.offsets.target=Object.assign(Object.assign({},t.offsets.target),dt(t.instance.target,t.offsets.host,t.placement)))}),t}function gt(t){if(!mt(t.options,"preventOverflow"))return t;var e=t.instance.target.style,n=e.top,i=e.left,o=e.transform;e.top="",e.left="",e.transform="";var r=ct(t.instance.target,t.instance.host,0,"scrollParent",!1);e.top=n,e.left=i,e.transform=o;var s,a={primary:function(e){var n=t.offsets.target[e];return t.offsets.target[e]<r[e]&&(n=Math.max(t.offsets.target[e],r[e])),Object(C.a)({},e,n)},secondary:function(e){var n="right"===e?"left":"top",i=t.offsets.target[n];return t.offsets.target[e]>r[e]&&(i=Math.min(t.offsets.target[n],r[e]-("right"===e?t.offsets.target.width:t.offsets.target.height))),Object(C.a)({},n,i)}};return["left","right","top","bottom"].forEach(function(e){s=-1!==["left","top"].indexOf(e)?"primary":"secondary",t.offsets.target=Object.assign(Object.assign({},t.offsets.target),a[s](e))}),t}function yt(t){var e=t.placement,n=e.split(" ")[0],i=e.split(" ")[1];if(i){var o=t.offsets,r=o.host,s=o.target,a=-1!==["bottom","top"].indexOf(n),c=a?"left":"top",u=a?"width":"height",l={start:Object(C.a)({},c,r[c]),end:Object(C.a)({},c,r[c]+r[u]-s[u])};t.offsets.target=Object.assign(Object.assign({},s),Object(C.a)({},c,c===i?l.start[c]:l.end[c]))}return t}var wt=new(function(){function t(){Object(l.a)(this,t)}return Object(u.a)(t,[{key:"position",value:function(t,e){return this.offset(t,e,!1)}},{key:"offset",value:function(t,e){return ht(e,t)}},{key:"positionElements",value:function(t,e,n,i,o){return[vt,yt,gt,pt].reduce(function(t,e){return e(t)},function(t,e,n,i){var o=ht(t,e);n.match(/^(auto)*\s*(left|right|top|bottom)*$/)||n.match(/^(left|right|top|bottom)*(?: (left|right|top|bottom))?\s*(start|end)*$/)||(n="auto");var r=!!n.match(/auto/g),s=n.match(/auto\s(left|right|top|bottom)/)?n.split(" ")[1]||"auto":n,a=s.match(/^(left|right|top|bottom)* ?(?!\1)(left|right|top|bottom)?/);return a&&(s=a[1]+(a[2]?" ".concat(a[2]):"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(s)&&(s="auto"),{options:i,instance:{target:t,host:e,arrow:null},offsets:{target:dt(t,o,s),host:o,arrow:null},positionFixed:!1,placement:s=lt(s,o,t,e,i?i.allowedPositions:void 0),placementAuto:r}}(e,t,n,o))}}]),t}()),kt=function(){var t=function(){function t(e,n,i){var r=this;Object(l.a)(this,t),this.update$$=new N.a,this.positionElements=new Map,this.isDisabled=!1,Object(o.p)(i)&&e.runOutsideAngular(function(){r.triggerEvent$=Object(R.a)(A(window,"scroll",{passive:!0}),A(window,"resize",{passive:!0}),Object(T.a)(0,P),r.update$$),r.triggerEvent$.subscribe(function(){r.isDisabled||r.positionElements.forEach(function(t){var e,i,o,s,a,c,u,l;e=Ot(t.target),i=Ot(t.element),o=t.attachment,s=t.appendToBody,a=r.options,c=n.createRenderer(null,null),l=function(t){return{width:t.offsets.target.width,height:t.offsets.target.height,left:Math.floor(t.offsets.target.left),top:Math.round(t.offsets.target.top),bottom:Math.round(t.offsets.target.bottom),right:Math.floor(t.offsets.target.right)}}(u=wt.positionElements(e,i,o,s,a)),bt(i,{"will-change":"transform",top:"0px",left:"0px",transform:"translate3d(".concat(l.left,"px, ").concat(l.top,"px, 0px)")},c),u.instance.arrow&&bt(u.instance.arrow,u.offsets.arrow,c),function(t,e){var n=t.instance.target,i=n.className;t.placementAuto&&(-1!==(i=(i=(i=i.replace(/bs-popover-auto/g,"bs-popover-".concat(t.placement))).replace(/bs-tooltip-auto/g,"bs-tooltip-".concat(t.placement))).replace(/\sauto/g," ".concat(t.placement))).indexOf("popover")&&-1===i.indexOf("popover-auto")&&(i+=" popover-auto"),-1!==i.indexOf("tooltip")&&-1===i.indexOf("tooltip-auto")&&(i+=" tooltip-auto")),i=i.replace(/left|right|top|bottom/g,"".concat(t.placement.split(" ")[0])),e?e.setAttribute(n,"class",i):n.className=i}(u,c)})})})}return Object(u.a)(t,[{key:"position",value:function(t){this.addPositionElement(t)}},{key:"disable",value:function(){this.isDisabled=!0}},{key:"enable",value:function(){this.isDisabled=!1}},{key:"addPositionElement",value:function(t){this.positionElements.set(Ot(t.element),t)}},{key:"calcPosition",value:function(){this.update$$.next()}},{key:"deletePositionElement",value:function(t){this.positionElements.delete(Ot(t))}},{key:"setOptions",value:function(t){this.options=t}},{key:"event$",get:function(){return this.triggerEvent$}}]),t}();return t.\u0275fac=function(e){return new(e||t)(f.Sb(f.z),f.Sb(f.E),f.Sb(f.B))},t.\u0275prov=f.Gb({token:t,factory:t.\u0275fac}),t}();function Ot(t){return"string"==typeof t?document.querySelector(t):t instanceof f.l?t.nativeElement:t}var _t=function t(e,n,i){Object(l.a)(this,t),this.nodes=e,this.viewRef=n,this.componentRef=i},St=function(){function t(e,n,i,o,r,s,a,c){Object(l.a)(this,t),this._viewContainerRef=e,this._renderer=n,this._elementRef=i,this._injector=o,this._componentFactoryResolver=r,this._ngZone=s,this._applicationRef=a,this._posService=c,this.onBeforeShow=new f.n,this.onShown=new f.n,this.onBeforeHide=new f.n,this.onHidden=new f.n,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}return Object(u.a)(t,[{key:"attach",value:function(t){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(t),this}},{key:"to",value:function(t){return this.container=t||this.container,this}},{key:"position",value:function(t){return this.attachment=t.attachment||this.attachment,this._elementRef=t.target||this._elementRef,this}},{key:"provide",value:function(t){return this._providers.push(t),this}},{key:"show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._subscribePositioning(),this._innerComponent=null,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(t.content,t.context,t.initialState);var e=f.r.create({providers:this._providers,parent:this._injector});if(this._componentRef=this._componentFactory.create(e,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,t),this.container instanceof f.l&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&"undefined"!=typeof document){var n=document.querySelector(this.container)||document.querySelector(this.containerDefaultSelector);n.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(t.id?{id:t.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}},{key:"hide",value:function(t){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);var e=this._componentRef.location.nativeElement;return e.parentNode.removeChild(e),this._contentRef.componentRef&&this._contentRef.componentRef.destroy(),this._viewContainerRef&&this._contentRef.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._contentRef=null,this._componentRef=null,this._removeGlobalListener(),this.onHidden.emit(t?{id:t}:null),this}},{key:"toggle",value:function(){this.isShown?this.hide():this.show()}},{key:"dispose",value:function(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}},{key:"listen",value:function(t){var e=this;this.triggers=t.triggers||this.triggers,this._listenOpts.outsideClick=t.outsideClick,this._listenOpts.outsideEsc=t.outsideEsc,t.target=t.target||this._elementRef.nativeElement;var n=this._listenOpts.hide=function(){return t.hide?t.hide():void e.hide()},i=this._listenOpts.show=function(n){t.show?t.show(n):e.show(n),n()};return this._unregisterListenersFn=function(t,e){var n=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O,n=(t||"").trim();if(0===n.length)return[];var i=n.split(/\s+/).map(function(t){return t.split(":")}).map(function(t){var n=e[t[0]]||t;return new k(n[0],n[1])}),o=i.filter(function(t){return t.isManual()});if(o.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===o.length&&i.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return i}(e.triggers),i=e.target;if(1===n.length&&n[0].isManual())return Function.prototype;var o=[],r=[],s=function(){r.forEach(function(t){return o.push(t())}),r.length=0};return n.forEach(function(n){var a=n.open===n.close,c=a?e.toggle:e.show;a||r.push(function(){return t.listen(i,n.close,e.hide)}),o.push(t.listen(i,n.open,function(){return c(s)}))}),function(){o.forEach(function(t){return t()})}}(this._renderer,{target:t.target,triggers:t.triggers,show:i,hide:n,toggle:function(t){e.isShown?n():i(t)}}),this}},{key:"_removeGlobalListener",value:function(){this._globalListener&&(this._globalListener(),this._globalListener=null)}},{key:"attachInline",value:function(t,e){return this._inlineViewRef=t.createEmbeddedView(e),this}},{key:"_registerOutsideClick",value:function(){var t=this;if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){var e=this._componentRef.location.nativeElement;setTimeout(function(){var n;t._globalListener=(n={targets:[e,t._elementRef.nativeElement],outsideClick:t._listenOpts.outsideClick,hide:function(){return t._listenOpts.hide()}}).outsideClick?t._renderer.listen("document","click",function(t){n.target&&n.target.contains(t.target)||n.targets&&n.targets.some(function(e){return e.contains(t.target)})||n.hide()}):Function.prototype})}var n;this._listenOpts.outsideEsc&&(this._globalListener=(n={targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:function(){return t._listenOpts.hide()}}).outsideEsc?this._renderer.listen("document","keyup.esc",function(t){n.target&&n.target.contains(t.target)||n.targets&&n.targets.some(function(e){return e.contains(t.target)})||n.hide()}):Function.prototype)}}},{key:"getInnerComponent",value:function(){return this._innerComponent}},{key:"_subscribePositioning",value:function(){var t=this;!this._zoneSubscription&&this.attachment&&(this.onShown.subscribe(function(){t._posService.position({element:t._componentRef.location,target:t._elementRef,attachment:t.attachment,appendToBody:"body"===t.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(function(){t._componentRef&&t._posService.calcPosition()}))}},{key:"_unsubscribePositioning",value:function(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=null)}},{key:"_getContentRef",value:function(t,e,n){if(!t)return new _t([]);if(t instanceof f.L){if(this._viewContainerRef){var i=this._viewContainerRef.createEmbeddedView(t,e);return i.markForCheck(),new _t([i.rootNodes],i)}var o=t.createEmbeddedView({});return this._applicationRef.attachView(o),new _t([o.rootNodes],o)}if("function"==typeof t){var r=this._componentFactoryResolver.resolveComponentFactory(t),s=f.r.create({providers:this._providers,parent:this._injector}),a=r.create(s);return Object.assign(a.instance,n),this._applicationRef.attachView(a.hostView),new _t([[a.location.nativeElement]],a.hostView,a)}return new _t([[this._renderer.createText("".concat(t))]])}},{key:"isShown",get:function(){return!this._isHiding&&!!this._componentRef}}]),t}(),Et=function(){var t=function(){function t(e,n,i,o,r){Object(l.a)(this,t),this._componentFactoryResolver=e,this._ngZone=n,this._injector=i,this._posService=o,this._applicationRef=r}return Object(u.a)(t,[{key:"createLoader",value:function(t,e,n){return new St(e,n,t,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(f.Sb(f.j),f.Sb(f.z),f.Sb(f.r),f.Sb(kt),f.Sb(f.g))},t.\u0275prov=f.Gb({token:t,factory:t.\u0275fac}),t}(),Ct=["*"],Nt=function(){var t=function t(){Object(l.a)(this,t),this.hide=Function,this.setClass=Function};return t.\u0275prov=f.Gb({token:t,factory:t.\u0275fac=function(e){return new(e||t)}}),t}(),Rt=function(){var t=function t(){Object(l.a)(this,t)};return t.\u0275prov=f.Gb({token:t,factory:t.\u0275fac=function(e){return new(e||t)}}),t}(),jt={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{}},Lt=new f.q("override-default-config"),xt="modal-open",It="fade",Mt="in",At="show",Dt=function(){var t=function(){function t(e,n,i){Object(l.a)(this,t),this._element=n,this._renderer=i,this.isShown=!1,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},e)}return Object(u.a)(t,[{key:"ngOnInit",value:function(){var t=this;this.isAnimated&&this._renderer.addClass(this._element.nativeElement,It),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(function(){t.isShown=!0,t._renderer.addClass(t._element.nativeElement,S()?Mt:At)},this.isAnimated?150:0),document&&document.body&&(1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(document.body,xt)),this._element.nativeElement&&this._element.nativeElement.focus()}},{key:"onClickStarted",value:function(t){this.clickStartedInContent=t.target!==this._element.nativeElement}},{key:"onClickStop",value:function(t){this.config.ignoreBackdropClick||"static"===this.config.backdrop||t.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.bsModalService.setDismissReason("backdrop-click"),this.hide())}},{key:"onPopState",value:function(){this.bsModalService.setDismissReason("browser-back-navigation-clicked"),this.hide()}},{key:"onEsc",value:function(t){this.isShown&&(27!==t.keyCode&&"Escape"!==t.key||t.preventDefault(),this.config.keyboard&&this.level===this.bsModalService.getModalsCount()&&(this.bsModalService.setDismissReason("esc"),this.hide()))}},{key:"ngOnDestroy",value:function(){this.isShown&&this.hide()}},{key:"hide",value:function(){var t=this;!this.isModalHiding&&this.isShown&&(this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,S()?Mt:At),setTimeout(function(){t.isShown=!1,document&&document.body&&1===t.bsModalService.getModalsCount()&&t._renderer.removeClass(document.body,xt),t.bsModalService.hide(t.config.id),t.isModalHiding=!1},this.isAnimated?300:0))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(f.Kb(Rt),f.Kb(f.l),f.Kb(f.D))},t.\u0275cmp=f.Eb({type:t,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(t,e){1&t&&f.Vb("mousedown",function(t){return e.onClickStarted(t)})("mouseup",function(t){return e.onClickStop(t)})("popstate",function(){return e.onPopState()},!1,f.lc)("keydown.esc",function(t){return e.onEsc(t)},!1,f.lc),2&t&&f.zb("aria-modal",!0)("aria-labelledby",e.config.ariaLabelledBy)("aria-describedby",e.config.ariaDescribedby)},ngContentSelectors:Ct,decls:3,vars:2,consts:[["role","document"],[1,"modal-content"]],template:function(t,e){1&t&&(f.bc(),f.Ob(0,"div",0),f.Ob(1,"div",1),f.ac(2),f.Nb(),f.Nb()),2&t&&f.Ab("modal-dialog"+(e.config.class?" "+e.config.class:""))},encapsulation:2}),t}(),Tt=function(){var t=function(){function t(e,n){Object(l.a)(this,t),this._isShown=!1,this.element=e,this.renderer=n}return Object(u.a)(t,[{key:"ngOnInit",value:function(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"".concat(It)),E.reflow(this.element.nativeElement)),this.isShown=!0}},{key:"isAnimated",get:function(){return this._isAnimated},set:function(t){this._isAnimated=t}},{key:"isShown",get:function(){return this._isShown},set:function(t){this._isShown=t,t?this.renderer.addClass(this.element.nativeElement,"".concat(Mt)):this.renderer.removeClass(this.element.nativeElement,"".concat(Mt)),S()||(t?this.renderer.addClass(this.element.nativeElement,"".concat(At)):this.renderer.removeClass(this.element.nativeElement,"".concat(At)))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(f.Kb(f.l),f.Kb(f.D))},t.\u0275cmp=f.Eb({type:t,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(t,e){},encapsulation:2}),t}(),Ft=function(){var t=function(){function t(e,n,i){Object(l.a)(this,t),this.clf=n,this.modalDefaultOption=i,this.onShow=new f.n,this.onShown=new f.n,this.onHide=new f.n,this.onHidden=new f.n,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.lastDismissReason=null,this.loaders=[],this._backdropLoader=this.clf.createLoader(null,null,null),this._renderer=e.createRenderer(null,null),this.config=i?Object.assign({},jt,i):jt}return Object(u.a)(t,[{key:"show",value:function(t,e){this.modalsCount++,this._createLoaders();var n=(null==e?void 0:e.id)||(new Date).getUTCMilliseconds();return this.config=this.modalDefaultOption?Object.assign({},jt,this.modalDefaultOption,e):Object.assign({},jt,e),this.config.id=n,this._showBackdrop(),this.lastDismissReason=null,this._showModal(t)}},{key:"hide",value:function(t){var e=this;1!==this.modalsCount&&null!=t||(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=t?this.modalsCount-1:0,setTimeout(function(){e._hideModal(t),e.removeLoaders(t)},this.config.animated?150:0)}},{key:"_showBackdrop",value:function(){var t=this.config.backdrop||"static"===this.config.backdrop,e=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),t&&e&&(this._backdropLoader.attach(Tt).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}},{key:"_hideBackdrop",value:function(){var t=this;this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(function(){return t.removeBackdrop()},this.config.animated?150:0))}},{key:"_showModal",value:function(t){var e,n=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers){var i,o=Object(w.a)(this.config.providers);try{for(o.s();!(i=o.n()).done;)n.provide(i.value)}catch(a){o.e(a)}finally{o.f()}}var r=new Nt,s=n.provide({provide:Rt,useValue:this.config}).provide({provide:Nt,useValue:r}).attach(Dt).to("body");return r.hide=function(){return s.instance.hide()},r.setClass=function(t){s.instance.config.class=t},r.onHidden=new f.n,r.onHide=new f.n,this.copyEvent(n.onBeforeHide,r.onHide),this.copyEvent(n.onHidden,r.onHidden),s.show({content:t,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),s.instance.level=this.getModalsCount(),r.content=n.getInnerComponent()||null,r.id=null===(e=s.instance.config)||void 0===e?void 0:e.id,r}},{key:"_hideModal",value:function(t){if(null!=t){var e=this.loaders.findIndex(function(e){return e.instance.config.id===t}),n=this.loaders[e];n&&n.hide(t)}else this.loaders.forEach(function(t){t.hide(t.instance.config.id)})}},{key:"getModalsCount",value:function(){return this.modalsCount}},{key:"setDismissReason",value:function(t){this.lastDismissReason=t}},{key:"removeBackdrop",value:function(){this._renderer.removeClass(document.body,xt),this._backdropLoader.hide(),this.backdropRef=null}},{key:"checkScrollbar",value:function(){this.isBodyOverflowing=document.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}},{key:"setScrollbar",value:function(){document&&(this.originalBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(document.body.style.paddingRight="".concat(this.originalBodyPadding+this.scrollbarWidth,"px")))}},{key:"resetScrollbar",value:function(){document.body.style.paddingRight="".concat(this.originalBodyPadding,"px")}},{key:"getScrollbarWidth",value:function(){var t=this._renderer.createElement("div");this._renderer.addClass(t,"modal-scrollbar-measure"),this._renderer.appendChild(document.body,t);var e=t.offsetWidth-t.clientWidth;return this._renderer.removeChild(document.body,t),e}},{key:"_createLoaders",value:function(){var t=this.clf.createLoader(null,null,null);this.copyEvent(t.onBeforeShow,this.onShow),this.copyEvent(t.onShown,this.onShown),this.copyEvent(t.onBeforeHide,this.onHide),this.copyEvent(t.onHidden,this.onHidden),this.loaders.push(t)}},{key:"removeLoaders",value:function(t){if(null!=t){var e=this.loaders.findIndex(function(e){return e.instance.config.id===t});e>=0&&(this.loaders.splice(e,1),this.loaders.forEach(function(t,e){t.instance.level=e+1}))}else this.loaders.splice(0,this.loaders.length)}},{key:"copyEvent",value:function(t,e){var n=this;t.subscribe(function(t){e.emit(n.lastDismissReason||t)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(f.Sb(f.E),f.Sb(Et),f.Sb(Lt,8))},t.\u0275prov=f.Gb({token:t,factory:t.\u0275fac}),t}(),Vt=function(){var t=function(){function t(){Object(l.a)(this,t)}return Object(u.a)(t,null,[{key:"forRoot",value:function(){return{ngModule:t,providers:[Ft,Et,kt]}}},{key:"forChild",value:function(){return{ngModule:t,providers:[Ft,Et,kt]}}}]),t}();return t.\u0275mod=f.Ib({type:t}),t.\u0275inj=f.Hb({factory:function(e){return new(e||t)}}),t}(),Kt=n("3Pt+"),Pt=n("Lm2G"),Bt=n("4Fw/");function Ht(t,e){if(1&t){var n=f.Pb();f.Ob(0,"span",5),f.Vb("click",function(){return f.mc(n),f.Xb(2).clearSearch()}),f.Lb(1,"span",6),f.Nb()}}function Ut(t,e){if(1&t){var n=f.Pb();f.Ob(0,"div",2),f.Ob(1,"input",3),f.Vb("keyup",function(){return f.mc(n),f.Xb().onSearch()})("ngModelChange",function(t){return f.mc(n),f.Xb().search=t}),f.Nb(),f.rc(2,Ht,2,0,"span",4),f.Nb()}if(2&t){var i=f.Xb();f.yb(1),f.cc("ngModel",i.search),f.yb(1),f.cc("ngIf",i.search&&""!==i.search)}}function Xt(t,e){if(1&t){var n=f.Pb();f.Ob(0,"formio-grid",7),f.Vb("rowAction",function(t){return f.mc(n),f.Xb().onAction(t)})("rowSelect",function(t){return f.mc(n),f.Xb().onSelect(t)})("createItem",function(){return f.mc(n),f.Xb().onCreateItem()}),f.Nb()}if(2&t){var i=f.Xb();f.cc("formio",i.service.formio)("gridType","form")("query",i.gridQuery)("isActionAllowed",i.service.actionAllowed)}}var Wt=["title"],Gt=["type"];function Qt(t,e){1&t&&f.Lb(0,"div",15)}function qt(t,e){if(1&t&&f.Lb(0,"form-builder",16,17),2&t){var n=f.Xb();f.cc("formbuilder",n.config.builder)("form",n.form)}}function zt(t,e){1&t&&f.Lb(0,"div",15)}function Yt(t,e){if(1&t&&f.Lb(0,"form-builder",16,17),2&t){var n=f.Xb();f.cc("formbuilder",n.config.builder)("form",n.form)}}function $t(t,e){if(1&t){var n=f.Pb();f.Ob(0,"button",12),f.Vb("click",function(){f.mc(n);var t=f.Xb(),e=f.kc(17);return t.openEmbed(e)}),f.Lb(1,"i",13),f.tc(2," Share"),f.Nb()}}function Jt(t,e){1&t&&(f.Ob(0,"li",5),f.Ob(1,"a",14),f.Lb(2,"i",15),f.tc(3," Edit Form"),f.Nb(),f.Nb())}function Zt(t,e){1&t&&(f.Ob(0,"li",5),f.Ob(1,"a",16),f.Lb(2,"span",17),f.Nb(),f.Nb())}function te(t,e){if(1&t&&(f.Ob(0,"pre"),f.Lb(1,"textarea",31),f.Nb()),2&t){var n=f.Xb(2);f.yb(1),f.cc("ngModel",n.embedCode)}}function ee(t,e){if(1&t&&f.Lb(0,"input",32),2&t){var n=f.Xb(2);f.cc("ngModel",n.shareUrl)}}var ne=function(t){return{active:t}};function ie(t,e){if(1&t){var n=f.Pb();f.Ob(0,"div",18),f.Ob(1,"h4",19),f.tc(2,"Share or Embed this form"),f.Nb(),f.Ob(3,"button",20),f.Vb("click",function(){return f.mc(n),f.Xb().modalRef.hide()}),f.Ob(4,"span",21),f.tc(5,"\xd7"),f.Nb(),f.Nb(),f.Nb(),f.Ob(6,"div",22),f.Ob(7,"ul",23),f.Ob(8,"li",2),f.Ob(9,"a",24),f.Vb("click",function(){return f.mc(n),f.Xb().choices("isUrl")}),f.Lb(10,"i",25),f.tc(11," URL"),f.Nb(),f.Nb(),f.Ob(12,"li",2),f.Ob(13,"a",24),f.Vb("click",function(){return f.mc(n),f.Xb().choices("isEmbed")}),f.Lb(14,"i",26),f.tc(15," Embed"),f.Nb(),f.Nb(),f.Nb(),f.rc(16,te,2,1,"pre",27),f.rc(17,ee,1,1,"input",28),f.Nb(),f.Ob(18,"div",29),f.Ob(19,"button",30),f.Vb("click",function(){return f.mc(n),f.Xb().modalRef.hide()}),f.tc(20,"Close"),f.Nb(),f.Nb()}if(2&t){var i=f.Xb();f.yb(9),f.cc("ngClass",f.fc(4,ne,"isUrl"===i.choice)),f.yb(4),f.cc("ngClass",f.fc(6,ne,"isEmbed"===i.choice)),f.yb(3),f.cc("ngIf","isEmbed"===i.choice),f.yb(1),f.cc("ngIf","isUrl"===i.choice)}}function oe(t,e){if(1&t){var n=f.Pb();f.Ob(0,"formio",1),f.Vb("submit",function(t){return f.mc(n),f.Xb().onSubmit(t)}),f.Nb()}if(2&t){var i=f.Xb();f.cc("renderer",i.config.renderer)("renderOptions",i.renderOptions)("url",i.service.formio.formUrl)("form",i.service.form)("submission",i.submission)("success",i.onSuccess)("error",i.onError)}}function re(t,e){if(1&t&&(f.Ob(0,"a",9),f.Lb(1,"img",10),f.Nb()),2&t){var n=f.Xb();f.cc("href",n.downloadUrl,f.oc)}}function se(t,e){1&t&&(f.Ob(0,"li",5),f.Ob(1,"a",11),f.Lb(2,"i",12),f.tc(3," Edit"),f.Nb(),f.Nb())}function ae(t,e){1&t&&(f.Ob(0,"li",5),f.Ob(1,"a",13),f.Lb(2,"span",14),f.Nb(),f.Nb())}var ce=function(){var t=function t(){Object(l.a)(this,t),this.tag="",this.includeSearch=!1,this.saveDraft=!1};return t.\u0275prov=f.Gb({token:t,factory:t.\u0275fac=function(e){return new(e||t)}}),t}(),ue=function(){var t=function(){function t(e,n,i){var o=this;Object(l.a)(this,t),this.appConfig=e,this.config=n,this.auth=i,this.form=null,this.formSrc="",this.perms={delete:!1,edit:!1},this.appConfig&&this.appConfig.appUrl?(d.Formio.setBaseUrl(this.appConfig.apiUrl),d.Formio.setProjectUrl(this.appConfig.appUrl)):console.error("You must provide an AppConfig within your application!"),this.allAccessMap={update_all:"formEdit",delete_all:"formDelete"},this.ownAccessMap={update_own:"formEdit",delete_own:"formDelete"},this.actionAllowed=function(t){return o.isActionAllowed(t)},this.reset()}return Object(u.a)(t,[{key:"isActionAllowed",value:function(t){return this.access[t]}},{key:"setAccess",value:function(){var t=this;this.access={formCreate:!0,formView:!0,formEdit:!0,formDelete:!0,submissionIndex:!0},this.auth?(this.access={formCreate:!1,formView:!1,formEdit:!1,formDelete:!1,submissionIndex:!1},this.ready=this.auth.ready.then(function(){var e=[];b()(t.auth.roles,function(t,n){t.admin&&e.push(t._id)}),t.auth.user&&t.auth.user.roles&&t.auth.user.roles.forEach(function(n){-1!==e.indexOf(n)&&(t.access.formCreate=!0,t.access.formView=!0,t.access.formEdit=!0,t.access.formDelete=!0,t.access.submissionIndex=!0),t.access.formCreate||(t.access.formCreate=-1!==t.auth.formAccess.create_all.indexOf(n)),t.access.formView||(t.access.formView=-1!==t.auth.formAccess.read_all.indexOf(n)),t.access.formEdit||(t.access.formEdit=-1!==t.auth.formAccess.update_all.indexOf(n)),t.access.formDelete||(t.access.formDelete=-1!==t.auth.formAccess.delete_all.indexOf(n)),t.access.submissionIndex||(t.access.submissionIndex=-1!==t.auth.formAccess.read_all.indexOf(n))})})):this.ready=Promise.resolve(!1)}},{key:"reset",value:function(t){var e=this;t?t.params.subscribe(function(t){t.id?e.formio=new d.Formio("".concat(e.formio.formsUrl,"/").concat(t.id)):e.reset()}):(this.formio=new d.Formio(this.appConfig.appUrl),this.setAccess())}},{key:"hasAccess",value:function(t){return!!this.auth.user&&!!v()(t,this.auth.user.roles).length}},{key:"setForm",value:function(t){var e=this;return this.form=t,this.formSrc=this.appConfig.appUrl+"/"+t.path,t.access&&t.access.forEach(function(n){e.allAccessMap[n.type]&&!e.access[e.allAccessMap[n.type]]&&(e.access[e.allAccessMap[n.type]]=e.hasAccess(n.roles)),e.auth&&e.auth.user&&t._id===e.auth.user._id&&e.ownAccessMap[n.type]&&!e.access[e.ownAccessMap[n.type]]&&(e.access[e.ownAccessMap[n.type]]=e.hasAccess(n.roles))}),t}},{key:"loadForm",value:function(){var t=this;return this.formReady=this.formio.loadForm().then(function(e){return t.setForm(e)}),this.formReady}},{key:"setSubmission",value:function(t){var e=this;return new Promise(function(n){t.params.subscribe(function(t){e.formio=new d.Formio("".concat(e.formio.submissionsUrl,"/").concat(t.id)),n(e.formio)})})}},{key:"submissionLoaded",value:function(t){var e=this;this.auth.ready.then(function(){e.formio.userPermissions(e.auth.user,e.form,t).then(function(t){e.perms.delete=t.delete,e.perms.edit=t.edit})})}},{key:"loadForms",value:function(){return this.formio.loadForms({params:{tags:this.config.tag}})}},{key:"createForm",value:function(t){return this.formio.createform(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(f.Sb(h.d),f.Sb(ce),f.Sb(Bt.f))},t.\u0275prov=f.Gb({token:t,factory:t.\u0275fac}),t}(),le=function(){var t=function(){function t(e,n,i,o){Object(l.a)(this,t),this.service=e,this.route=n,this.router=i,this.config=o,this.search="",this.gridQuery={tags:this.config.tag,type:"form",sort:"title"},this.onSearch=Object(g.debounce)(this.onSearch,300)}return Object(u.a)(t,[{key:"loadGrid",value:function(){var t=this;this.search=localStorage.getItem("searchInput"),this.gridQuery=JSON.parse(localStorage.getItem("query"))||this.gridQuery;var e=+localStorage.getItem("currentPage")||0;this.formGrid.refreshGrid(this.gridQuery).then(function(){return t.formGrid.setPage(e-1)})}},{key:"ngOnInit",value:function(){var t=this;this.gridQuery={tags:this.config.tag,type:"form",sort:"title"},this.service.reset(),this.service.ready.then(function(){t.loadGrid(),t.formGrid.footer.pageChanged.subscribe(function(t){localStorage.setItem("currentPage",t.page)})})}},{key:"onSearch",value:function(){var t=this.search;t.length>0?(this.gridQuery.skip=0,this.gridQuery.title__regex="/"+t+"/i",this.gridQuery.title__regex="/"+t.trim()+"/i"):delete this.gridQuery.title__regex,localStorage.setItem("query",JSON.stringify(this.gridQuery)),localStorage.setItem("searchInput",this.search),this.formGrid.pageChanged({page:1,itemPerPage:this.gridQuery.limit}),this.formGrid.refresh.emit(this.gridQuery)}},{key:"clearSearch",value:function(){this.gridQuery={tags:this.config.tag,type:"form",sort:"title"},localStorage.removeItem("query"),localStorage.removeItem("searchInput"),localStorage.removeItem("currentPage"),this.search="",this.formGrid.pageChanged({page:1}),this.formGrid.query={},this.formGrid.refreshGrid({tags:this.config.tag,type:"form",sort:"title"})}},{key:"onAction",value:function(t){this.service.form=null,this.router.navigate([t.row._id,t.action],{relativeTo:this.route})}},{key:"onSelect",value:function(t){this.router.navigate([t._id,"view"],{relativeTo:this.route})}},{key:"onCreateItem",value:function(){this.router.navigate(["create"],{relativeTo:this.route})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(f.Kb(ue),f.Kb(r.a),f.Kb(r.b),f.Kb(ce))},t.\u0275cmp=f.Eb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&f.xc(s.b,!0),2&t&&f.jc(n=f.Wb())&&(e.formGrid=n.first)},decls:2,vars:2,consts:[["class","input-group mb-3",4,"ngIf"],[3,"formio","gridType","query","isActionAllowed","rowAction","rowSelect","createItem",4,"ngIf"],[1,"input-group","mb-3"],["type","text","placeholder","Search Forms","aria-label","Search Forms","aria-describedby","button-search",1,"form-control",3,"ngModel","keyup","ngModelChange"],["class","form-clear input-group-addon",3,"click",4,"ngIf"],[1,"form-clear","input-group-addon",3,"click"],[1,"fa","fa-times"],[3,"formio","gridType","query","isActionAllowed","rowAction","rowSelect","createItem"]],template:function(t,e){1&t&&(f.rc(0,Ut,3,2,"div",0),f.rc(1,Xt,1,4,"formio-grid",1)),2&t&&(f.cc("ngIf",e.config.includeSearch),f.yb(1),f.cc("ngIf",e.service.ready))},directives:[o.k,Kt.a,Kt.d,Kt.e,s.b],styles:[".form-clear[_ngcontent-%COMP%]{align-items:center;background:#cecece;border-radius:50%;bottom:8px;color:rgba(0,0,0,.3);cursor:pointer;display:flex;height:24px;justify-content:center;padding-bottom:2px;position:absolute;right:10px;top:6px;width:24px;z-index:10}.form-clear[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{font-size:16px;font-weight:500}"]}),t}(),fe=function(){var t=function(){function t(e,n,i,o,r,s){Object(l.a)(this,t),this.service=e,this.router=n,this.route=i,this.config=o,this.ref=r,this.alerts=s,this.form={components:[]},this.formReady=!1,this.loading=!1,this.editMode=!1}return Object(u.a)(t,[{key:"initBuilder",value:function(t){var e=this;return t?(this.loading=!0,this.editMode=!0,this.service.formReady.then(function(){return e.form=e.service.form,e.formTitle.nativeElement.value=e.service.form.title,e.formType.nativeElement.value=e.service.form.display||"form",e.formReady=!0,e.loading=!1,e.ref.detectChanges(),!0}).catch(function(t){e.alerts.setAlert({type:"danger",message:t.message||t}),e.loading=!1,e.ref.detectChanges(),e.formReady=!0})):(this.formReady=!0,Promise.resolve(!0))}},{key:"ngAfterViewInit",value:function(){var t=this;this.route.url.subscribe(function(e){setTimeout(function(){return t.initBuilder("edit"===e[0].path)},0)})}},{key:"onDisplaySelect",value:function(t){this.builder.setDisplay(t.target.value)}},{key:"saveForm",value:function(){var t=this;return this.loading=!0,this.form=y.a.cloneDeep(this.builder.formio.schema),this.form.title=this.formTitle.nativeElement.value.trim(),this.form.display=this.formType.nativeElement.value,this.config.tag&&(this.form.tags=this.form.tags||[],this.form.tags.push(this.config.tag),this.form.tags=y.a.uniq(this.form.tags)),this.form._id||(this.form.name=y.a.camelCase(this.form.title).toLowerCase(),this.form.path=this.form.name),this.service.formio.saveForm(this.form).then(function(e){return t.form=t.service.setForm(e),t.loading=!1,t.form}).catch(function(e){if(t.loading=!1,e._id&&e.type)throw e;t.alerts.setAlert({type:"danger",message:e.message||e})})}},{key:"onSave",value:function(){var t=this;return this.saveForm().then(function(e){t.router.navigate(t.editMode?["../","view"]:["../",e._id,"view"],{relativeTo:t.route})})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(f.Kb(ue),f.Kb(r.b),f.Kb(r.a),f.Kb(ce),f.Kb(f.h),f.Kb(h.b))},t.\u0275cmp=f.Eb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&(f.xc(h.a,!0),f.xc(Wt,!0),f.xc(Gt,!0)),2&t&&(f.jc(n=f.Wb())&&(e.builder=n.first),f.jc(n=f.Wb())&&(e.formTitle=n.first),f.jc(n=f.Wb())&&(e.formType=n.first))},decls:21,vars:3,consts:[["class","loader",4,"ngIf"],[1,"form-group","row"],[1,"col-sm-8"],["type","text","id","formTitle","placeholder","Enter a Title",1,"form-control"],["title",""],[1,"col-sm-2"],["id","formSelect",1,"form-control",3,"change"],["type",""],["value","form"],["value","wizard"],["value","pdf"],[1,"btn","btn-primary","btn-block",3,"click"],[3,"alerts"],[3,"formbuilder","form",4,"ngIf"],[1,"btn","btn-primary",2,"margin-top","10px",3,"click"],[1,"loader"],[3,"formbuilder","form"],["builder",""]],template:function(t,e){1&t&&(f.rc(0,Qt,1,0,"div",0),f.Ob(1,"div",1),f.Ob(2,"div",2),f.Lb(3,"input",3,4),f.Nb(),f.Ob(5,"div",5),f.Ob(6,"select",6,7),f.Vb("change",function(t){return e.onDisplaySelect(t)}),f.Ob(8,"option",8),f.tc(9,"Form"),f.Nb(),f.Ob(10,"option",9),f.tc(11,"Wizard"),f.Nb(),f.Ob(12,"option",10),f.tc(13,"PDF"),f.Nb(),f.Nb(),f.Nb(),f.Ob(14,"div",5),f.Ob(15,"button",11),f.Vb("click",function(){return e.onSave()}),f.tc(16,"Save Form"),f.Nb(),f.Nb(),f.Nb(),f.Lb(17,"formio-alerts",12),f.rc(18,qt,2,2,"form-builder",13),f.Ob(19,"button",14),f.Vb("click",function(){return e.onSave()}),f.tc(20,"Save Form"),f.Nb()),2&t&&(f.cc("ngIf",e.loading),f.yb(17),f.cc("alerts",e.alerts),f.yb(1),f.cc("ngIf",e.formReady))},directives:[o.k,Kt.f,Kt.g,h.c,h.a],encapsulation:2}),t}(),he=function(){var t=function(t){Object(a.a)(n,t);var e=Object(c.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"ngOnInit",value:function(){this.service.reset()}}]),n}(fe);return t.\u0275fac=function(e){return de(e||t)},t.\u0275cmp=f.Eb({type:t,selectors:[["ng-component"]],features:[f.vb],decls:21,vars:3,consts:[["class","loader",4,"ngIf"],[1,"form-group","row"],[1,"col-sm-8"],["type","text","id","formTitle","placeholder","Enter a Title",1,"form-control"],["title",""],[1,"col-sm-2"],["id","formSelect",1,"form-control",3,"change"],["type",""],["value","form"],["value","wizard"],["value","pdf"],[1,"btn","btn-primary","btn-block",3,"click"],[3,"alerts"],[3,"formbuilder","form",4,"ngIf"],[1,"btn","btn-primary",2,"margin-top","10px",3,"click"],[1,"loader"],[3,"formbuilder","form"],["builder",""]],template:function(t,e){1&t&&(f.rc(0,zt,1,0,"div",0),f.Ob(1,"div",1),f.Ob(2,"div",2),f.Lb(3,"input",3,4),f.Nb(),f.Ob(5,"div",5),f.Ob(6,"select",6,7),f.Vb("change",function(t){return e.onDisplaySelect(t)}),f.Ob(8,"option",8),f.tc(9,"Form"),f.Nb(),f.Ob(10,"option",9),f.tc(11,"Wizard"),f.Nb(),f.Ob(12,"option",10),f.tc(13,"PDF"),f.Nb(),f.Nb(),f.Nb(),f.Ob(14,"div",5),f.Ob(15,"button",11),f.Vb("click",function(){return e.onSave()}),f.tc(16,"Save Form"),f.Nb(),f.Nb(),f.Nb(),f.Lb(17,"formio-alerts",12),f.rc(18,Yt,2,2,"form-builder",13),f.Ob(19,"button",14),f.Vb("click",function(){return e.onSave()}),f.tc(20,"Save Form"),f.Nb()),2&t&&(f.cc("ngIf",e.loading),f.yb(17),f.cc("alerts",e.alerts),f.yb(1),f.cc("ngIf",e.formReady))},directives:[o.k,Kt.f,Kt.g,h.c,h.a],encapsulation:2}),t}(),de=f.Qb(he),me=function(){var t=function(){function t(e,n,i,o,r){Object(l.a)(this,t),this.service=e,this.route=n,this.appConfig=i,this.options=o,this.modalService=r,this.choice="isUrl",this.goTo=""}return Object(u.a)(t,[{key:"ngOnInit",value:function(){var t=this;this.service.reset(this.route),this.service.loadForm().then(function(e){t.service.formSrc=t.appConfig.appUrl+"/"+e.path,t.projectId=e.project,t.pathName=e.path,t.getShareUrl()})}},{key:"getShareUrl",value:function(){var t=this.appConfig.appUrl+"/"+this.pathName;return this.shareUrl="".concat(this.options.viewer,"/#/?src=").concat(encodeURIComponent(t)),this.shareUrl}},{key:"openEmbed",value:function(t){var e="";this.goTo&&(e+='if (d && d.formSubmission && d.formSubmission._id) { window.location.href = "'.concat(this.goTo,'";}'));var n='<script type="text/javascript">';n+="(function a(d, w, u) {",n+='var h = d.getElementsByTagName("head")[0];',n+='var s = d.createElement("script");',n+='s.type = "text/javascript";',n+='s.src = "'+this.options.viewer+'/assets/lib/seamless/seamless.parent.min.js";',n+="s.onload = function b() {",n+='var f = d.getElementById("formio-form-'+this.service.formio.formId+'");',n+="if (!f || (typeof w.seamless === u)) {",n+="return setTimeout(b, 100);",n+="}",n+="w.seamless(f, {fallback:false}).receive(function(d, e) {"+e+"});",n+="};",n+="h.appendChild(s);",n+="})(document, window);",n+="<\/script>",n+='<iframe id="formio-form-'+this.service.formio.formId+'" ',this.embedCode=n+='style="width:100%;border:none;" height="800px" src="'+this.shareUrl+'&iframe=1"></iframe>',this.modalRef=this.modalService.show(t,{class:"modal-lg"})}},{key:"choices",value:function(t){this.choice=t}}]),t}();return t.\u0275fac=function(e){return new(e||t)(f.Kb(ue),f.Kb(r.a),f.Kb(h.d),f.Kb(ce),f.Kb(Ft))},t.\u0275cmp=f.Eb({type:t,selectors:[["ng-component"]],decls:18,vars:3,consts:[["class","pull-right btn btn-outline-primary",3,"click",4,"ngIf"],[1,"nav","nav-tabs","mb-2"],[1,"nav-item"],["routerLink","../",1,"nav-link"],[1,"fa","fa-chevron-left","glyphicon","glyphicon-chevron-left"],["routerLinkActive","active",1,"nav-item"],["routerLink","view","routerLinkActive","active",1,"nav-link"],[1,"fa","fa-pencil","glyphicon","glyphicon-pencil"],["routerLink","submission","routerLinkActive","active",1,"nav-link"],[1,"fa","fa-list-alt","glyphicon","glyphicon-list-alt"],["class","nav-item","routerLinkActive","active",4,"ngIf"],["content",""],[1,"pull-right","btn","btn-outline-primary",3,"click"],[1,"fa","fa-share-alt","glyphicon","glyphicon-share"],["routerLink","edit","routerLinkActive","active",1,"nav-link"],[1,"fa","fa-edit","glyphicon","glyphicon-edit"],["routerLink","delete","routerLinkActive","active",1,"nav-link"],[1,"fa","fa-trash","glyphicon","glyphicon-trash"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"nav","nav-tabs","mr-auto","mb-2"],[1,"nav-link",3,"ngClass","click"],[1,"fa","fa-link"],[1,"fa","fa-code"],[4,"ngIf"],["type","text","onclick","this.focus();this.select()","readonly","readonly","class","form-control","placeholder","https://examples.form.io/example",3,"ngModel",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["onclick","this.focus();this.select()","readonly","readonly","rows","8",2,"width","100%",3,"ngModel"],["type","text","onclick","this.focus();this.select()","readonly","readonly","placeholder","https://examples.form.io/example",1,"form-control",3,"ngModel"]],template:function(t,e){1&t&&(f.rc(0,$t,3,0,"button",0),f.Ob(1,"ul",1),f.Ob(2,"li",2),f.Ob(3,"a",3),f.Lb(4,"i",4),f.Nb(),f.Nb(),f.Ob(5,"li",5),f.Ob(6,"a",6),f.Lb(7,"i",7),f.tc(8," Enter Data"),f.Nb(),f.Nb(),f.Ob(9,"li",5),f.Ob(10,"a",8),f.Lb(11,"i",9),f.tc(12," View Data"),f.Nb(),f.Nb(),f.rc(13,Jt,4,0,"li",10),f.rc(14,Zt,3,0,"li",10),f.Nb(),f.Lb(15,"router-outlet"),f.rc(16,ie,21,8,"ng-template",null,11,f.sc)),2&t&&(f.cc("ngIf",e.options.viewer),f.yb(13),f.cc("ngIf",e.service.actionAllowed("formEdit")),f.yb(1),f.cc("ngIf",e.service.actionAllowed("formDelete")))},directives:[o.k,r.e,r.d,r.g,o.i,Kt.a,Kt.d,Kt.e],encapsulation:2}),t}(),be=function(){var t=function(){function t(e,n,i,o,r){Object(l.a)(this,t),this.service=e,this.router=n,this.route=i,this.config=o,this.auth=r,this.onSuccess=new f.n,this.onError=new f.n,this.renderOptions={saveDraft:this.config.saveDraft},this.submission={data:{}}}return Object(u.a)(t,[{key:"ngOnInit",value:function(){this.service.formio=new d.Formio(this.service.formio.formUrl)}},{key:"onSubmit",value:function(t){var e=this;this.submission.data=t.data,this.submission.state="complete",this.service.formio.saveSubmission(this.submission).then(function(t){e.onSuccess.emit(),e.router.navigate(["../","submission",t._id],{relativeTo:e.route})}).catch(function(t){return e.onError.emit(t)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(f.Kb(ue),f.Kb(r.b),f.Kb(r.a),f.Kb(ce),f.Kb(Bt.f))},t.\u0275cmp=f.Eb({type:t,selectors:[["ng-component"]],decls:1,vars:1,consts:[[3,"renderer","renderOptions","url","form","submission","success","error","submit",4,"ngIf"],[3,"renderer","renderOptions","url","form","submission","success","error","submit"]],template:function(t,e){1&t&&f.rc(0,oe,1,7,"formio",0),2&t&&f.cc("ngIf",e.service.form)},directives:[o.k,h.e],encapsulation:2}),t}(),pe=function(){var t=function(){function t(e,n,i,o){Object(l.a)(this,t),this.service=e,this.router=n,this.route=i,this.alerts=o}return Object(u.a)(t,[{key:"onDelete",value:function(){var t=this;this.service.formio.deleteForm().then(function(){t.router.navigate(["../../"],{relativeTo:t.route})}).catch(function(e){return t.alerts.setAlert({type:"danger",message:e.message||e})})}},{key:"onCancel",value:function(){this.router.navigate(["../","view"],{relativeTo:this.route})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(f.Kb(ue),f.Kb(r.b),f.Kb(r.a),f.Kb(h.b))},t.\u0275cmp=f.Eb({type:t,selectors:[["ng-component"]],decls:8,vars:1,consts:[[3,"alerts"],[1,"btn-toolbar"],["type","button",1,"btn","btn-danger",2,"margin-right","10px",3,"click"],["type","button",1,"btn","btn-default",3,"click"]],template:function(t,e){1&t&&(f.Lb(0,"formio-alerts",0),f.Ob(1,"h3"),f.tc(2,"Are you sure you wish to delete this form?"),f.Nb(),f.Ob(3,"div",1),f.Ob(4,"button",2),f.Vb("click",function(){return e.onDelete()}),f.tc(5,"Yes"),f.Nb(),f.Ob(6,"button",3),f.Vb("click",function(){return e.onCancel()}),f.tc(7,"No"),f.Nb(),f.Nb()),2&t&&f.cc("alerts",e.alerts)},directives:[h.c],encapsulation:2}),t}(),ve=function(){var t=function(){function t(e,n,i){Object(l.a)(this,t),this.service=e,this.router=n,this.route=i}return Object(u.a)(t,[{key:"onSubmit",value:function(t){this.router.navigate(["../../"],{relativeTo:this.route})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(f.Kb(ue),f.Kb(r.b),f.Kb(r.a))},t.\u0275cmp=f.Eb({type:t,selectors:[["ng-component"]],decls:1,vars:2,consts:[[3,"renderer","src","submit","formLoad","submissionLoad"]],template:function(t,e){1&t&&(f.Ob(0,"formio",0),f.Vb("submit",function(t){return e.onSubmit(t)})("formLoad",function(t){return e.service.setForm(t)})("submissionLoad",function(t){return e.service.submissionLoaded(t)}),f.Nb()),2&t&&f.cc("renderer",e.service.config.renderer)("src",e.service.formio.submissionUrl)},directives:[h.e],encapsulation:2}),t}(),ge=function(){var t=function(){function t(e,n,i,o){Object(l.a)(this,t),this.service=e,this.router=n,this.route=i,this.alerts=o}return Object(u.a)(t,[{key:"onDelete",value:function(){var t=this;this.service.formio.deleteSubmission().then(function(){t.router.navigate(["../../"],{relativeTo:t.route})}).catch(function(e){return t.alerts.setAlert({type:"danger",message:e.message||e})})}},{key:"onCancel",value:function(){this.router.navigate(["../","view"],{relativeTo:this.route})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(f.Kb(ue),f.Kb(r.b),f.Kb(r.a),f.Kb(h.b))},t.\u0275cmp=f.Eb({type:t,selectors:[["ng-component"]],decls:8,vars:1,consts:[[3,"alerts"],[1,"btn-toolbar"],["type","button",1,"btn","btn-danger",2,"margin-right","10px",3,"click"],["type","button",1,"btn","btn-default",3,"click"]],template:function(t,e){1&t&&(f.Lb(0,"formio-alerts",0),f.Ob(1,"h3"),f.tc(2,"Are you sure you wish to delete this record?"),f.Nb(),f.Ob(3,"div",1),f.Ob(4,"button",2),f.Vb("click",function(){return e.onDelete()}),f.tc(5,"Yes"),f.Nb(),f.Ob(6,"button",3),f.Vb("click",function(){return e.onCancel()}),f.tc(7,"No"),f.Nb(),f.Nb()),2&t&&f.cc("alerts",e.alerts)},directives:[h.c],encapsulation:2}),t}(),ye=function(){var t=function t(e){Object(l.a)(this,t),this.service=e};return t.\u0275fac=function(e){return new(e||t)(f.Kb(ue))},t.\u0275cmp=f.Eb({type:t,selectors:[["ng-component"]],decls:1,vars:3,consts:[[3,"renderer","src","readOnly","formLoad","submissionLoad"]],template:function(t,e){1&t&&(f.Ob(0,"formio",0),f.Vb("formLoad",function(t){return e.service.setForm(t)})("submissionLoad",function(t){return e.service.submissionLoaded(t)}),f.Nb()),2&t&&f.cc("renderer",e.service.config.renderer)("src",e.service.formio.submissionUrl)("readOnly",!0)},directives:[h.e],encapsulation:2}),t}(),we=function(){var t=function(){function t(e,n,i){Object(l.a)(this,t),this.service=e,this.route=n,this.router=i}return Object(u.a)(t,[{key:"onSelect",value:function(t){this.router.navigate([t._id,"view"],{relativeTo:this.route})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(f.Kb(ue),f.Kb(r.a),f.Kb(r.b))},t.\u0275cmp=f.Eb({type:t,selectors:[["ng-component"]],decls:1,vars:1,consts:[[3,"formio","rowSelect"]],template:function(t,e){1&t&&(f.Ob(0,"formio-grid",0),f.Vb("rowSelect",function(t){return e.onSelect(t)}),f.Nb()),2&t&&f.cc("formio",e.service.formio)},directives:[s.b],encapsulation:2}),t}(),ke=function(){var t=function(){function t(e,n){Object(l.a)(this,t),this.service=e,this.route=n}return Object(u.a)(t,[{key:"setDownloadUrl",value:function(t){this.downloadUrl=t}},{key:"ngOnInit",value:function(){var t=this;this.service.setSubmission(this.route).then(function(e){e.getDownloadUrl().then(function(e){return t.setDownloadUrl(e)})})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(f.Kb(ue),f.Kb(r.a))},t.\u0275cmp=f.Eb({type:t,selectors:[["ng-component"]],decls:12,vars:3,consts:[["target","_blank","class","pull-right",3,"href",4,"ngIf"],[1,"nav","nav-tabs",2,"margin-bottom","10px"],[1,"nav-item"],["routerLink","../",1,"nav-link"],[1,"fa","fa-chevron-left","glyphicon","glyphicon-chevron-left"],["routerLinkActive","active",1,"nav-item"],["routerLink","view","routerLinkActive","active",1,"nav-link"],[1,"fa","fa-eye","glyphicon","glyphicon-eye"],["class","nav-item","routerLinkActive","active",4,"ngIf"],["target","_blank",1,"pull-right",3,"href"],["src","https://pro.formview.io/assets/pdf.png",2,"height","2em"],["routerLink","edit","routerLinkActive","active",1,"nav-link"],[1,"fa","fa-edit","glyphicon","glyphicon-edit"],["routerLink","delete","routerLinkActive","active",1,"nav-link"],[1,"fa","fa-trash","glyphicon","glyphicon-trash"]],template:function(t,e){1&t&&(f.rc(0,re,2,1,"a",0),f.Ob(1,"ul",1),f.Ob(2,"li",2),f.Ob(3,"a",3),f.Lb(4,"i",4),f.Nb(),f.Nb(),f.Ob(5,"li",5),f.Ob(6,"a",6),f.Lb(7,"i",7),f.tc(8," View"),f.Nb(),f.Nb(),f.rc(9,se,4,0,"li",8),f.rc(10,ae,3,0,"li",8),f.Nb(),f.Lb(11,"router-outlet")),2&t&&(f.cc("ngIf",e.downloadUrl),f.yb(9),f.cc("ngIf",e.service.perms.edit),f.yb(1),f.cc("ngIf",e.service.perms.delete))},directives:[o.k,r.e,r.d,r.g],encapsulation:2}),t}();function Oe(t){return[{path:"",component:t&&t.formIndex?t.formIndex:le},{path:"create",component:t&&t.formCreate?t.formCreate:he},{path:":id",component:t&&t.form?t.form:me,children:[{path:"",redirectTo:"view",pathMatch:"full"},{path:"view",component:t&&t.formView?t.formView:be},{path:"edit",component:t&&t.formEdit?t.formEdit:fe},{path:"delete",component:t&&t.formDelete?t.formDelete:pe},{path:"submission",component:t&&t.submissionIndex?t.submissionIndex:we},{path:"submission/:id",component:t&&t.submission?t.submission:ke,children:[{path:"",redirectTo:"view",pathMatch:"full"},{path:"view",component:t&&t.submissionView?t.submissionView:ye},{path:"edit",component:t&&t.submissionEdit?t.submissionEdit:ve},{path:"delete",component:t&&t.submissionDelete?t.submissionDelete:ge}]}]}]}var _e,Se=function(){var t=function(){function t(){Object(l.a)(this,t)}return Object(u.a)(t,null,[{key:"forChild",value:function(e){return Object(h.i)(t,e,Oe)}},{key:"forRoot",value:function(e){return Object(h.i)(t,e,Oe)}}]),t}();return t.\u0275mod=f.Ib({type:t}),t.\u0275inj=f.Hb({factory:function(e){return new(e||t)},imports:[[o.b,h.g,r.f,Kt.b,s.a,Vt.forRoot(),Pt.b.forRoot()]]}),t}(),Ee=(_e=function(t,e){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}_e(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function Ce(t,e){1&t&&(f.Ob(0,"div",2),f.tc(1,"You must "),f.Ob(2,"button",3),f.Lb(3,"i",4),f.tc(4," Login"),f.Nb(),f.tc(5," to use the Form Manager."),f.Nb())}var Ne=function(t){return{tags:t,type:"form"}};function Re(t,e){if(1&t){var n=f.Pb();f.Ob(0,"formio-grid",5),f.Vb("rowAction",function(t){return f.mc(n),f.Xb().onAction(t)})("rowSelect",function(t){return f.mc(n),f.Xb().onSelect(t)})("createItem",function(){return f.mc(n),f.Xb().onCreateItem()}),f.Nb()}if(2&t){var i=f.Xb();f.cc("formio",i.service.formio)("gridType","form")("query",f.fc(4,Ne,i.config.tag))("createText","Create Form")}}var je=function(t){function e(e,n,i,o,r){var s=t.call(this,n,i,o,r)||this;return s.auth=e,s.service=n,s.route=i,s.router=o,s.config=r,s}return Ee(e,t),e.\u0275fac=function(t){return new(t||e)(f.Kb(Bt.f),f.Kb(ue),f.Kb(r.a),f.Kb(r.b),f.Kb(ce))},e.\u0275cmp=f.Eb({type:e,selectors:[["app-index"]],features:[f.vb],decls:2,vars:2,consts:[["class","alert alert-info",4,"ngIf"],[3,"formio","gridType","query","createText","rowAction","rowSelect","createItem",4,"ngIf"],[1,"alert","alert-info"],["routerLink","../auth",1,"btn","btn-primary"],[1,"fa","fa-sign-in"],[3,"formio","gridType","query","createText","rowAction","rowSelect","createItem"]],template:function(t,e){1&t&&(f.rc(0,Ce,6,0,"div",0),f.rc(1,Re,1,6,"formio-grid",1)),2&t&&(f.cc("ngIf",!e.auth.authenticated),f.yb(1),f.cc("ngIf",e.auth.authenticated))},directives:[o.k,r.c,s.b],styles:[""]}),e}(le),Le=function(){function t(){}return t.\u0275mod=f.Ib({type:t}),t.\u0275inj=f.Hb({factory:function(e){return new(e||t)},providers:[ue,{provide:ce,useValue:{tag:"common"}}],imports:[[o.b,s.a,Se,r.f.forChild(Oe({formIndex:je}))]]}),t}()},SKAX:function(t,e,n){var i=n("JC6p"),o=n("lQqw")(i);t.exports=o},bNQv:function(t,e,n){var i=n("gFfm"),o=n("SKAX"),r=n("EwQA"),s=n("Z0cm");t.exports=function(t,e){return(s(t)?i:o)(t,r(e))}},lQqw:function(t,e,n){var i=n("MMmD");t.exports=function(t,e){return function(n,o){if(null==n)return n;if(!i(n))return t(n,o);for(var r=n.length,s=e?r:-1,a=Object(n);(e?s--:++s<r)&&!1!==o(a[s],s,a););return n}}},xkGU:function(t,e,n){t.exports=n("bNQv")}}]);